$ cd database/

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS/database (main)
$ docker build -t pu_smas_postgres .
[+] Building 144.6s (6/6) FINISHED docker:defaultternal] load build definitio  0.2s
 => [internal] load build definitio  0.2s
 => => transferring dockerfile 156B  0.1s
 => [internal] load .dockerignore    0.2s
 => => transferring context: 2B      0.0s
 => [internal] load metadata for do  5.4s
 => [auth] library/postgres:pull to  0.0s
 => [1/1] FROM docker.io/library/  138.8s 
 => => resolve docker.io/library/po  0.1s 
 => => sha256:739ee 7.59kB / 7.59kB  0.0s 
 => => sha256:1ed 10.16kB / 10.16kB  0.0s 
 => => sha256:af 29.13MB / 29.13MB  68.6s 
 => => sha256:846f5 3.33kB / 3.33kB  0.0s 
 => => sha256:296b 4.53MB / 4.53MB  23.8s 
 => => sha256:9acb9 1.17kB / 1.17kB  0.5s
 => => sha256:0cebd 1.45MB / 1.45MB  5.3s
 => => sha256:1146 8.07MB / 8.07MB  24.1s
 => => sha256:dcd7 1.20MB / 1.20MB  27.7s
 => => sha256:4159aa27 116B / 116B  25.2s
 => => sha256:a91b 3.14kB / 3.14kB  25.8s
 => => sha256:748a 9.36kB / 9.36kB  28.2s
 => => sha256:bbfd4adc 129B / 129B  28.8s
 => => sha256:cc494360 170B / 170B  29.5s
 => => sha256:654c 5.42kB / 5.42kB  30.0s
 => => sha256:e27a3a14 186B / 186B  30.7s
 => => extracting sha256:af107e9783  5.8s
 => => extracting sha256:9acb9cde41  0.0s
 => => extracting sha256:296bc81bab  0.4s
 => => extracting sha256:0cebd6152d  0.1s
 => => extracting sha256:1146c60a6a  1.1s
 => => extracting sha256:dcd7b2005e  0.2s
 => => extracting sha256:4159aa2759  0.0s
 => => extracting sha256:a91be39801  0.0s
 => => extracting sha256:3f966c8163  8.7s
 => => extracting sha256:748a26b6e5  0.0s
 => => extracting sha256:bbfd4adc36  0.0s 
 => => extracting sha256:cc494360cf  0.0s
 => => extracting sha256:654ce67712  0.0s 
 => => extracting sha256:e27a3a1439  0.0s
 => exporting to image               0.0s 
 => => exporting layers              0.0s 
 => => writing image sha256:c0ececa  0.0s 
 => => naming to docker.io/library/  0.0s 

View build details: docker-desktop://dashboard/build/default/default/zmogxllzfiijt1gv1htfba1qs

What's Next?
  View a summary of image vulnerabilities and recommendations â†’ docker scout quickview

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS/database (main)
$ az
bash: az: command not found

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS/database (main)
$
 *  History restored 


fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ az

Welcome to Azure CLI!
---------------------
Use `az -h` to see available commands or go to https://aka.ms/cli.

Telemetry
---------
The Azure CLI collects usage data in order to improve your experience.
The data is anonymous and does not include commandline argument values.
The data is collected by Microsoft.     

You can change your telemetry settings with `az configure`.


     /\
    /  \    _____   _ _  ___ _
   / /\ \  |_  / | | | \'__/ _\
  / ____ \  / /| |_| | | |  __/
 /_/    \_\/___|\__,_|_|  \___|


Welcome to the cool new Azure CLI!      

Use `az --version` to display the current version.
Here are the base commands:

    account             : Manage Azure subscription information.
    acr                 : Manage private registries with Azure Container Registries.
    ad                  : Manage Azure Active Directory Graph entities needed for Role Based Access
                         Control.       
    advisor             : Manage Azure Advisor.
    afd                 : Manage Azure Front Door Standard/Premium. For classical Azure Front Door,
                         please refer https://docs.microsoft.com/en-us/cli/azure/network/front-
                         door?view=azure-cli-latest.
    aks                 : Manage Azure Kubernetes Services.
    ams                 : Manage Azure Media Services resources.
    apim                : Manage Azure API Management services.
    appconfig           : Manage App Configurations.
    appservice          : Manage App Service plans.
    aro                 : Manage Azure Red Hat OpenShift clusters.
    backup              : Manage Azure Backups.
    batch               : Manage Azure Batch.
    bicep               : Bicep CLI command group.
    billing             : Manage Azure Billing.
    bot                 : Manage Microsoft Azure Bot Service.
    cache               : Commands to manage CLI objects cached using the `--defer` argument.
    capacity            : Manage capacity.
    cdn                 : Manage Azure Content Delivery Networks (CDNs).        
    cloud               : Manage registered Azure clouds.
    cognitiveservices   : Manage Azure Cognitive Services accounts.
    config              : Manage Azure CLI configuration.
    configure           : Manage Azure CLI configuration. This command is interactive.
    connection          : Commands to manage Service Connector local connections which allow local
                         environment to connect Azure Resource. If you want to manage connection for
                         compute service, please run 'az webapp/containerapp/spring connection'.
    consumption         : Manage consumption of Azure resources.
    container           : Manage Azure Container Instances.
    containerapp        : Manage Azure Container Apps.
    cosmosdb            : Manage Azure Cosmos DB database accounts.
    databoxedge         : Support data box edge device and management.
    deployment          : Manage Azure Resource Manager template deployment at subscription scope.
    deployment-scripts  : Manage deployment scripts at subscription or resource group scope.
    disk                : Manage Azure Managed Disks.
    disk-access         : Manage disk access resources.
    disk-encryption-set : Disk Encryption Set resource.
    dla                 : Manage Data Lake Analytics accounts, jobs, and catalogs.
    dls                 : Manage Data Lake Store accounts and filesystems.      
    dms                 : Manage Azure Data Migration Service (classic) instances.
    eventgrid           : Manage Azure Event Grid topics, domains, domain topics, system topics
                         partner topics, event subscriptions, system topic event subscriptions and
                         partner topic event subscriptions.
    eventhubs           : Eventhubs.    
    extension           : Manage and update CLI extensions.
    feature             : Manage resource provider features.
    feedback            : Send feedback to the Azure CLI Team.
    find                : I'm an AI robot, my advice is based on our Azure documentation as well as
                         the usage patterns of Azure CLI and Azure ARM users. Using me improves
                         Azure products and documentation.
    functionapp         : Manage function apps. To install the Azure Functions Core tools see
                         https://github.com/Azure/azure-functions-core-tools.   
    group               : Manage resource groups and template deployments.      
    hdinsight           : Manage HDInsight resources.
    identity            : Managed Identities.
    image               : Manage custom virtual machine images.
    interactive         : Start interactive mode. Installs the Interactive extension if not
                         installed already.
    iot                 : Manage Internet of Things (IoT) assets.
    keyvault            : Manage KeyVault keys, secrets, and certificates.      
    kusto               : Manage Azure Kusto resources.
    lab                 : Manage Azure DevTest Labs.
    lock                : Manage Azure locks.
    logicapp            : Manage logic apps.
    login               : Log in to Azure.
    logout              : Log out to remove access to Azure subscriptions.      
    managed-cassandra   : Azure Managed Cassandra.
    managedapp          : Manage template solutions provided and maintained by Independent Software
                         Vendors (ISVs).
    managedservices     : Manage the registration assignments and definitions in Azure.
    maps                : Manage Azure Maps.
    mariadb             : Manage Azure Database for MariaDB servers.
    monitor             : Manage the Azure Monitor Service.
    mysql               : Manage Azure Database for MySQL servers.
    netappfiles         : Manage Azure NetApp Files (ANF) Resources.
    network             : Manage Azure Network resources.
    policy              : Manage resource policies.
    postgres            : Manage Azure Database for PostgreSQL servers.
    ppg                 : Manage Proximity Placement Groups.
    private-link        : Private-link association CLI command group.
    provider            : Manage resource providers.
    redis               : Manage dedicated Redis caches for your Azure applications.
    relay               : Manage Azure Relay Service namespaces, WCF relays, hybrid connections, and
                         rules.
    resource            : Manage Azure resources.
    resourcemanagement  : Resourcemanagement CLI command group.
    rest                : Invoke a custom request.
    restore-point       : Manage restore point with res.
    role                : Manage user roles for access control with Azure Active Directory and
                         service principals.
    search              : Manage Azure Search services, admin keys and query keys.
    security            : Manage your security posture with Microsoft Defender for Cloud.
    servicebus          : Servicebus.   
    sf                  : Manage and administer Azure Service Fabric clusters.  
    sig                 : Manage shared image gallery.
    signalr             : Manage Azure SignalR Service.
    snapshot            : Manage point-in-time copies of managed disks, native blobs, or other
                         snapshots.     
QL Databases and Data Warehouses.
    sshkey              : Manage ssh public key with vm.
    stack               : A deployment stack is a native Azure resource type that enables you to
                         perform operations on a resource collection as an atomic unit.
    staticwebapp        : Manage static apps.
    storage             : Manage Azure Cloud Storage resources.
    survey              : Take Azure CLI survey.
    synapse             : Manage and operate Synapse Workspace, Spark Pool, SQL Pool.
    tag                 : Tag Management on a resource.
    term                : Manage marketplace agreement with marketplaceordering.    ts                  : Manage template specs at subscription or resource group scope.

    upgrade             : Upgrade Azure CLI and extensions.
    version             : Show the versions of Azure CLI modules and extensions in JSON format by
                         default or format configured by --output.
    vm                  : Manage Linux or Windows virtual machines.
    vmss                : Manage groupings of virtual machines in an Azure Virtual Machine Scale Set
                         (VMSS).
    webapp              : Manage web apps.


fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ az login
A web browser has been opened at https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize. Please continue the login in the web browser. If no web browser is available or if the web browser fails to open, use device code flow with `az login --use-device-code`.
[
  {
    "cloudName": "AzureCloud",
    "homeTenantId": "c794a269-2e9b-4777-ad46-2d19d81196d6",
    "id": "a3e82a45-9694-43a4-acbc-5336e898ced2",
    "isDefault": true,
    "managedByTenants": [],
    "name": "Azure for Students",
    "state": "Enabled",
    "tenantId": "c794a269-2e9b-4777-ad46-2d19d81196d6",
    "user": {
      "name": "u2293392@uel.ac.uk",       
      "type": "user"
    }
  }
]

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ az group create pu_smas_resourcegroup --
location westus
the following arguments are required: --name/--resource-group/-n/-g

Examples from AI knowledge base:
az group create --location westus --resource-group MyResourceGroup
Create a new resource group in the West US region.

az group create --location westeurope --resource-group MyResourceGroup --tags {tags}
Create a new resource group. (autogenerated)

az group list --query "[?location=='westus']"
List all resource groups located in the West US region.

https://docs.microsoft.com/en-US/cli/azure/group#az_group_create
Read more about the command in reference docs

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ az group create --name pu_smas_resourceg
roup --location westus
{
  "id": "/subscriptions/a3e82a45-9694-43a4-acbc-5336e898ced2/resourceGroups/pu_smas_resourcegroup",
  "location": "westus",
  "managedBy": null,
  "name": "pu_smas_resourcegroup",        
  "properties": {
    "provisioningState": "Succeeded"      
  },
  "tags": null,
  "type": "Microsoft.Resources/resourceGroups"
}

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ az acr create --resource-group pu_smas_r
esourcegroup --name pu_smas_containergroup --sku Basic
Resource provider 'Microsoft.ContainerRegistry' used by this operation is not registered. We are registering for you.
Registration succeeded.
(ResourceNameInvalid) Invalid resource name: 'pu_smas_containergroup'. Resource names may contain alpha numeric characters only and must be between 5 and 50 characters.. For more information, please refer resource name requirements at: https://docs.microsoft.com/en-us/rest/api/containerregistry/
Code: ResourceNameInvalid
Message: Invalid resource name: 'pu_smas_containergroup'. Resource names may contain alpha numeric characters only and must be between 5 and 50 characters.. For more information, please refer resource name requirements at: https://docs.microsoft.com/en-us/rest/api/containerregistry/

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ az acr create --resource-group pu_smas_resourcegroup --name pusmasCG --sku Basic  
argument error: Registry name must use only lowercase.

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ az acr create --resource-group pu_smas_resourcegroup --name pusmascg --sku Basic  
{
  "adminUserEnabled": false,
  "anonymousPullEnabled": false,
  "creationDate": "2024-01-06T14:22:30.843241+00:00",
  "dataEndpointEnabled": false,
  "dataEndpointHostNames": [],
  "encryption": {
    "keyVaultProperties": null,
    "status": "disabled"
  },
  "id": "/subscriptions/a3e82a45-9694-43a4-acbc-5336e898ced2/resourceGroups/pu_smas_resourcegroup/providers/Microsoft.ContainerRegistry/registries/pusmascg",
  "identity": null,
  "location": "westus",
  "loginServer": "pusmascg.azurecr.io",   
  "name": "pusmascg",
  "networkRuleBypassOptions": "AzureServices",
  "networkRuleSet": null,
  "policies": {
    "azureAdAuthenticationAsArmPolicy": { 
      "status": "enabled"
    },
    "exportPolicy": {
      "status": "enabled"
    },
    "quarantinePolicy": {
      "status": "disabled"
    },
    "retentionPolicy": {
      "days": 7,
      "lastUpdatedTime": "2024-01-06T14:22:42.599907+00:00",
      "status": "disabled"
    },
    "softDeletePolicy": {
      "lastUpdatedTime": "2024-01-06T14:22:42.599945+00:00",
      "retentionDays": 7,
      "status": "disabled"
    },
    "trustPolicy": {
      "status": "disabled",
      "type": "Notary"
    }
  },
  "privateEndpointConnections": [],       
  "provisioningState": "Succeeded",       
  "publicNetworkAccess": "Enabled",       
  "resourceGroup": "pu_smas_resourcegroup",
  "sku": {
    "name": "Basic",
    "tier": "Basic"
  },
  "status": null,
  "systemData": {
    "createdAt": "2024-01-06T14:22:30.843241+00:00",
    "createdBy": "u2293392@uel.ac.uk",    
    "createdByType": "User",
    "lastModifiedAt": "2024-01-06T14:22:30.843241+00:00",
    "lastModifiedBy": "u2293392@uel.ac.uk",
    "lastModifiedByType": "User"
  },
  "tags": {},
  "type": "Microsoft.ContainerRegistry/registries",
  "zoneRedundancy": "Disabled"
}

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ az acr login --name pu_smas_resourcegrou
p
Registry names may contain only alpha numeric characters and must be between 5 and 50 characters

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ az acr login --name pusmascg
Login Succeeded

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ history
    1  nano
    2  ls
    3  cd d:
    4  ls
    5  cd projects/
    6  ls
    7  cd Java/
    8  ls
    9  touch
   10  touch .gitignore
   11  ls -l
   12  ls -la
   13  pnpm
   14  npm
   15  git
   16  npm
   17  node
   18  node
   19  exit
   20  az
   21  az login
   22  az group create pu_smas_resourcegroup --location westus
   23  az group create --name pu_smas_resourcegroup --location westus
   24  az acr create --resource-group pu_smas_resourcegroup --name pu_smas_containergroup --sku Basic
   25  az acr create --resource-group pu_smas_resourcegroup --name pusmasCG --sku Basic
   26  az acr create --resource-group pu_smas_resourcegroup --name pusmascg --sku Basic
   27  az acr login --name pu_smas_resourcegroup
   28  az acr login --name pusmascg       
   29  history

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ az acr login --name pusmascg
Login Succeeded

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ docker tag pu_smas_postgres:latest pusma
scg.azurecr.io/pu_smas_postgres:late

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ docker push pusmascg.azurecr.io/pu_smas_postgres:latest
The push refers to repository [pusmascg.azurecr.io/pu_smas_postgres]
tag does not exist: pusmascg.azurecr.io/pu_smas_postgres:latest

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ docker tag pu_smas_postgres:latest pusmascg.azurecr.io/pu_smas_postgres:latest

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ docker push pusmascg.azurecr.io/pu_smas_postgres:latest
The push refers to repository [pusmascg.azurecr.io/pu_smas_postgres]
42d5f2e12d4a: Pushed
8310ffbf4b0a: Pushed
8d6401987a5d: Pushed
6e2537cbc454: Pushed
86da974c1ffb: Pushed
e007efd35430: Pushed
15e3a7d0023d: Pushed
ee2ab689dabf: Pushed
0299afdd1335: Pushed
5ab027f1b7be: Pushed
8b7df5af7eef: Pushed
03c426c5e830: Pushed
cce1227f11bb: Pushed
7292cf786aa8: Pushed
latest: digest: sha256:f64983cd5386e5b78a0a41f5f35b7b2a65b0a6c64e9a97dcd163243e849bb548 size: 3247

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$ ^C

fspoo@ewooral MINGW64 ~/Documents/Ewooral-Tutorials/JAVASCRIPT/projects/RESTApi-NextJS (main)
$



FROM postgres:13
ENV POSTGRES_DB pu_smas_db
ENV POSTGRES_USER pu_smas_user
ENV POSTGRES_PASSWORD pu_smas_password@@!


